{"version":3,"sources":["top_panel.js"],"names":["BX","namespace","removeClass","Landing","Utils","addClass","onCustomEvent","bind","makeFilterablePopupMenu","makeSelectablePopupMenu","style","encodeDataValue","Menu","UI","Tool","Panel","Top","id","data","BasePanel","apply","this","arguments","layout","top","document","querySelector","siteButton","pageButton","undoButton","redoButton","desktopButton","tabletButton","mobileButton","iframe","lastActive","loader","onDesktopSizeChange","onTabletSizeChange","onMobileSizeChange","onIframeClick","onSiteButtonClick","onPageButtonClick","onUndo","onRedo","onKeyDown","adjustHistoryButtonsState","contentDocument","window","sitesCount","parseInt","Main","getInstance","options","sites_count","pagesCount","pages_count","addEventListener","History","instance","prototype","constructor","__proto__","superclass","event","key","keyCode","which","navigator","userAgent","match","ctrlKey","metaKey","shiftKey","preventDefault","canUndo","getLoader","show","undo","then","hide","canRedo","redo","Loader","size","offset","left","stroke-width","history","classList","remove","add","DOM","write","width","dataset","postfix","enableControls","disableControls","siteMenu","bindElement","events","onPopupClose","blur","menuShowDelay","offsetTop","popupWindow","contentContainer","minHeight","minWidth","siteId","site_id","landingId","filter","=TYPE","params","type","URLList","getSites","sites","forEach","site","addMenuItem","ID","text","TITLE","items","editMask","sef_url","site_edit","showMask","site_show","push","message","href","replace","requestAnimationFrame","pageMenu","getLandings","landings","landing","FOLDER_ID","landing_edit","viewMask","landing_view","FOLDER","siteShowMask","SITE_ID","close"],"mappings":"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","file":""}